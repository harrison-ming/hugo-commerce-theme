{{- /*
  CTA Button Shortcode - æ­£æ–‡ CTA æŒ‰é’®çš„ Markdown æ¥å£

  å‚æ•°:
    url (string) - æŒ‰é’®é“¾æ¥ï¼Œé»˜è®¤ "/checkout"
    icon (string) - å›¾æ ‡/emojiï¼Œé»˜è®¤ ""
    theme (string) - é¢œè‰²ä¸»é¢˜: green | blue | red | purpleï¼Œé»˜è®¤ "green"
    size (string) - å°ºå¯¸: hero | standardï¼Œé»˜è®¤ "hero"
    width (string) - å®½åº¦: full | auto | containedï¼Œé»˜è®¤æ ¹æ® size è‡ªåŠ¨è®¾ç½®
    align (string) - å¯¹é½: center | left | rightï¼Œé»˜è®¤ "center"
    shadow (string) - é˜´å½±å¼ºåº¦: light | medium | heavyï¼Œé»˜è®¤ "heavy"
    pulse (bool) - æ˜¯å¦è„‰å†²åŠ¨ç”»ï¼Œé»˜è®¤ false

  ç”¨æ³•ç¤ºä¾‹:
    {{< cta_button icon="ğŸ›¡ï¸" theme="green" >}}
    I Want Divine Protection and Abundance â€” Claim My Decree Now
    {{< /cta_button >}}

    {{< cta_button url="/checkout" size="standard" icon="âœ¨" >}}
    Claim Your Decree Now
    {{< /cta_button >}}
*/ -}}

{{- $url := .Get "url" | default "/checkout" -}}
{{- $icon := .Get "icon" | default "" -}}
{{- $theme := .Get "theme" | default "green" -}}
{{- $size := .Get "size" | default "hero" -}}
{{- $align := .Get "align" | default "center" -}}
{{- $shadow := .Get "shadow" | default "heavy" -}}
{{- $pulse := .Get "pulse" | default false -}}

{{- /* æ ¹æ® size è‡ªåŠ¨è®¾ç½® width */ -}}
{{- $width := .Get "width" -}}
{{- if not $width -}}
  {{- if eq $size "hero" -}}
    {{- $width = "full" -}}
  {{- else -}}
    {{- $width = "auto" -}}
  {{- end -}}
{{- end -}}

{{- /* è·å–æŒ‰é’®æ–‡å­—ï¼ˆä» shortcode å†…å®¹ï¼‰ */ -}}
{{- $text := .Inner | markdownify | plainify -}}

{{- /* æ ¹æ® size è°ƒç”¨ä¸åŒçš„ç»„ä»¶ */ -}}
{{- if eq $size "hero" -}}
  {{- partial "components/cta-inline/hero-button" (dict
    "text" $text
    "link" $url
    "icon" $icon
    "theme" $theme
    "width" $width
    "align" $align
    "shadow" $shadow
    "pulse" $pulse) -}}
{{- else -}}
  {{- partial "components/cta-inline/standard-button" (dict
    "text" $text
    "link" $url
    "icon" $icon
    "theme" $theme
    "width" $width
    "align" $align) -}}
{{- end -}}
