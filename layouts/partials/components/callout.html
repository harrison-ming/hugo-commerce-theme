{{- /*
  Callout ç»„ä»¶ - å¤šåŠŸèƒ½æç¤ºæ¡†/é«˜äº®æ¡†

  å‚æ•°:
    . (dict) - å‚æ•°å­—å…¸
      content (string) - æç¤ºæ¡†å†…å®¹ (required)
      variant (string) - æ ·å¼å˜ä½“: "warning" | "info" | "success" | "danger" | "highlight"ï¼Œé»˜è®¤ "warning"
      icon (string) - å›¾æ ‡/emojiï¼Œé»˜è®¤æ ¹æ® variant è‡ªåŠ¨é€‰æ‹©
      title (string) - å¯é€‰æ ‡é¢˜
      size (string) - å°ºå¯¸: "normal" | "large" | "compact"ï¼Œé»˜è®¤ "normal"
      shadow (bool) - æ˜¯å¦æ˜¾ç¤ºé˜´å½±ï¼Œé»˜è®¤ true
      border (string) - è¾¹æ¡†æ ·å¼: "solid" | "dashed" | "thick"ï¼Œé»˜è®¤ "solid"
      calloutClass (string) - é¢å¤–çš„ CSS ç±»å

  ç”¨æ³•ç¤ºä¾‹:
    {{- partial "components/callout" (dict
      "content" "âš ï¸ **Important:** This is a warning message."
      "variant" "warning"
      "title" "Notice"
      "size" "normal") -}}

    {{- partial "components/callout" (dict
      "content" .Inner
      "variant" "success"
      "icon" "âœ…") -}}
*/ -}}

{{- $content := .content -}}
{{- $variant := .variant | default "warning" -}}
{{- $icon := .icon | default "" -}}
{{- $title := .title | default "" -}}
{{- $size := .size | default "normal" -}}
{{- $shadow := .shadow | default true -}}
{{- $border := .border | default "solid" -}}
{{- $calloutClass := .calloutClass | default "" -}}

{{- /* å®šä¹‰é¢œè‰²ä¸»é¢˜ Tailwind ç±» */ -}}
{{- $bgClasses := "" -}}
{{- $borderClasses := "" -}}
{{- $textClasses := "" -}}
{{- $iconClasses := "" -}}
{{- $defaultIcon := "" -}}

{{- if eq $variant "warning" -}}
  {{- $bgClasses = "bg-yellow-50" -}}
  {{- $borderClasses = "border-yellow-400" -}}
  {{- $textClasses = "text-gray-800" -}}
  {{- $iconClasses = "text-yellow-600" -}}
  {{- $defaultIcon = "âš ï¸" -}}

{{- else if eq $variant "info" -}}
  {{- $bgClasses = "bg-blue-50" -}}
  {{- $borderClasses = "border-blue-400" -}}
  {{- $textClasses = "text-gray-800" -}}
  {{- $iconClasses = "text-blue-600" -}}
  {{- $defaultIcon = "â„¹ï¸" -}}

{{- else if eq $variant "success" -}}
  {{- $bgClasses = "bg-green-50" -}}
  {{- $borderClasses = "border-green-400" -}}
  {{- $textClasses = "text-gray-800" -}}
  {{- $iconClasses = "text-green-600" -}}
  {{- $defaultIcon = "âœ…" -}}

{{- else if eq $variant "danger" -}}
  {{- $bgClasses = "bg-red-50" -}}
  {{- $borderClasses = "border-red-400" -}}
  {{- $textClasses = "text-gray-800" -}}
  {{- $iconClasses = "text-red-600" -}}
  {{- $defaultIcon = "ğŸ”¥" -}}

{{- else if eq $variant "highlight" -}}
  {{- $bgClasses = "bg-purple-50" -}}
  {{- $borderClasses = "border-purple-400" -}}
  {{- $textClasses = "text-gray-800" -}}
  {{- $iconClasses = "text-purple-600" -}}
  {{- $defaultIcon = "âœ¨" -}}
{{- end -}}

{{- /* å¦‚æœæ²¡æœ‰æä¾› iconï¼Œä½¿ç”¨é»˜è®¤å›¾æ ‡ */ -}}
{{- if not $icon -}}
  {{- $icon = $defaultIcon -}}
{{- end -}}

{{- /* å®šä¹‰è¾¹æ¡†æ ·å¼ */ -}}
{{- $borderStyle := "" -}}
{{- if eq $border "solid" -}}
  {{- $borderStyle = "border-2" -}}
{{- else if eq $border "dashed" -}}
  {{- $borderStyle = "border-2 border-dashed" -}}
{{- else if eq $border "thick" -}}
  {{- $borderStyle = "border-l-4 border-t border-r border-b" -}}
{{- end -}}

{{- /* å®šä¹‰å°ºå¯¸ */ -}}
{{- $padding := "" -}}
{{- $fontSize := "" -}}
{{- $iconSize := "" -}}
{{- if eq $size "large" -}}
  {{- $padding = "p-6 md:p-8" -}}
  {{- $fontSize = "text-base md:text-lg" -}}
  {{- $iconSize = "text-3xl" -}}
{{- else if eq $size "compact" -}}
  {{- $padding = "p-3 md:p-4" -}}
  {{- $fontSize = "text-sm" -}}
  {{- $iconSize = "text-xl" -}}
{{- else -}}
  {{- $padding = "p-4 md:p-5" -}}
  {{- $fontSize = "text-base" -}}
  {{- $iconSize = "text-2xl" -}}
{{- end -}}

{{- /* å®šä¹‰é˜´å½± */ -}}
{{- $shadowClasses := "" -}}
{{- if $shadow -}}
  {{- $shadowClasses = "shadow-md" -}}
{{- end -}}

<!-- Callout Component -->
<div class="callout callout-{{ $variant }} {{ $bgClasses }} {{ $borderClasses }} {{ $borderStyle }} rounded-lg {{ $padding }} my-6 {{ $shadowClasses }} {{ $calloutClass }}">

  {{- /* å¦‚æœæœ‰æ ‡é¢˜æˆ–å›¾æ ‡ï¼Œæ˜¾ç¤ºæ ‡é¢˜æ  */ -}}
  {{- if or $title $icon -}}
  <div class="callout-header flex items-start gap-3 mb-3">
    {{- if $icon -}}
    <div class="callout-icon {{ $iconClasses }} {{ $iconSize }} flex-shrink-0">
      {{ $icon }}
    </div>
    {{- end -}}

    {{- if $title -}}
    <div class="callout-title font-bold {{ $fontSize }} {{ $textClasses }} flex-1">
      {{ $title }}
    </div>
    {{- end -}}
  </div>
  {{- end -}}

  {{- /* å†…å®¹åŒºåŸŸ */ -}}
  <div class="callout-content {{ $fontSize }} {{ $textClasses }} leading-relaxed {{ if not (or $title $icon) }}{{ else }}ml-0{{ end }}">
    {{ $content | markdownify }}
  </div>

</div>
